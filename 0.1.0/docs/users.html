
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2015-09-15
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Spark Timeseries &#x2013; User Guide</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/united/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="../css/bootswatch.css" rel="stylesheet" />
		<link href="../css/reflow-skin.css" rel="stylesheet" />


		<link href="../css/lightbox.css" rel="stylesheet" />

		<link href="../css/site.css" rel="stylesheet" />
		<link href="../css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->



	</head>

	<body class="page-docs-users project-sparktimeseries" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html">SparkTimeseries</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="../index.html" title="Overview">Overview</a></li>
							<li class="active"><a href="" title="Docs: Users">Docs: Users</a></li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<div class="page-header">
 <h1 id="user_guide">User Guide</h1>
</div> 
<div class="section"> 
 <h2 id="Terminology">Terminology</h2> 
 <p>A variety of terms are used to describe time series data, and many of these apply to conflicting or overlapping concepts. In the interest of clarity, in spark-timeseries, we stick to the following set of definitions:</p> 
 <ul> 
  <li><b>Time Series</b> - A sequence of floating point values, each linked to a timestamp. In particular, we try to stick with “time series” as meaning a univariate time series, although in other contexts it sometimes refers to series with multiple values at the same timestamp. A notable instance of the latter is the <tt>TimeSeries</tt> class, which refers to a multivariate time series. In Scala, a time series is usually represented by a Breeze vector, and in Python, a 1-D numpy array, and has a DateTimeIndex somewhere nearby to link its values to points in time.</li> 
  <li><b>Key</b> - A string label used to identify a time series. A TimeSeriesRDD is a distributed collection of tuples of (key, time series)</li> 
  <li><b>Instant</b> - The set of values in a collection of time series corresponding to a single point in time.</li> 
  <li><b>Observation</b> - A tuple of (timestamp, key, value).</li> 
 </ul> 
</div> 
<div class="section"> 
 <h2 id="Abstractions">Abstractions</h2> 
 <div class="section"> 
  <h3 id="TimeSeriesRDD">TimeSeriesRDD</h3> 
  <p>The central abstraction of the library is the <tt>TimeSeriesRDD</tt>, a lazy distributed collection of univariate series with a conformed time dimension. It is lazy in the sense that it is an RDD: it encapsulates all the information needed to generate its elements, but doesn’t materialize them upon instantiation. It is distributed in the sense that different univariate series within the collection can be stored and processed on different nodes. Within each univariate series, observations are not distributed. The time dimension is conformed in the sense that a single <tt>DateTimeIndex</tt> applies to all the univariate series. Each univariate series within the RDD has a key to identify it. </p> 
  <p>TimeSeriesRDDs then support efficient series-wise operations like slicing, imputing missing values based on surrounding elements, and training time-series models. For example, in Scala:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>val tsRdd: TimeSeriesRDD = ...

// Find a sub-slice between two dates 
val subslice = tsRdd.slice(new DateTime(&quot;2015-4-10&quot;), new DateTime(&quot;2015-4-14&quot;))

// Fill in missing values based on linear interpolation
val filled = subslice.fill(&quot;linear&quot;)

// Use an AR(1) model to remove serial correlations
val residuals = filled.mapSeries(series =&gt; ar(series, 1).removeTimeDependentEffects(series))
</pre> 
   </div> 
  </div> 
  <p>Or in Python:</p> 
  <div class="source"> 
   <div class="source"> 
    <pre>tsrdd = ...

# Find a sub-slice between two dates
subslice = tsrdd['2015-04-10':'2015-04-14']

# Fill in missing values based on linear interpolation
filled = subslice.fill('linear')
</pre> 
   </div> 
  </div> 
 </div> 
 <div class="section"> 
  <h3 id="DateTimeIndex">DateTimeIndex</h3> 
  <p>The time spanned by a TimeSeriesRDD is encapsulated in a <tt>DateTimeIndex</tt>, which is essentially an ordered collection of timestamps. DateTimeIndexes come in two flavors: uniform and irregular. Uniform DateTimeIndexes have a concise representation including a start date, a frequency (i.e. the interval between two timestamps), and a number of periods. Irregular indices are simply represented by an ordered collection of timestamps.</p> 
 </div> 
</div>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#user_guide" title="User Guide">User Guide <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Terminology" title="Terminology">Terminology</a>
		<li class="dropdown"><a href="#Abstractions" title="Abstractions">Abstractions <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#TimeSeriesRDD" title="TimeSeriesRDD">TimeSeriesRDD</a>
		<li><a href="#DateTimeIndex" title="DateTimeIndex">DateTimeIndex</a>
				<li class="divider"></li>
			</ul>
		</li>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span9 bottom-nav">
					<ul class="nav nav-list">
					</ul>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2015. All Rights Reserved.</p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="../js/lightbox.min.js"></script>
	<script src="../js/reflow-scroll.js"></script>

	<script src="../js/reflow-skin.js"></script>

	</body>
</html>
